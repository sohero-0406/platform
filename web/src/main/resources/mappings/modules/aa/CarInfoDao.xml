<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jeesite.modules.aa.dao.CarInfoDao">
	
	<!-- 查询数据
	<select id="findList" resultType="CarInfo">
		SELECT ${sqlMap.column.toSql()}
		FROM ${sqlMap.table.toSql()}
		<where>
			${sqlMap.where.toSql()}
		</where>
		ORDER BY ${sqlMap.order.toSql()}
	</select> -->

	<!-- 根据排序规则进行查询 -->
	<select id="findCarInfoBySortStu" resultType="CarInfo" parameterType="java.util.Map">
		SELECT * FROM aa_car_info
		where exam_user_id = #{examUserId}
		<if test="queryCriteria != null and queryCriteria != ''" >
			and (license_plate_num like CONCAT('%',#{queryCriteria},'%') or vin_code like CONCAT('%',#{queryCriteria},'%'))
		</if>
		<if test="sort != null and sort != ''">
			<if test="sort == 1">
				ORDER BY create_date asc
			</if>
			<if test="sort == 2">
				ORDER BY create_date desc
			</if>
		</if>
	</select>
	
</mapper>